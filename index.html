<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Monika</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="main.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
<style>
body{
    background-color: #00000F;
}    
.container{
    padding: 20px;
    background-color: #00000F;
}            
</style>
</head>
<body>
    <div class="container" style="margin-top: 10%;">
        <form>
            <div class="form-group">
                <label style="color: #fff;">T͜e͐x̣tͨ: </label>
                <textarea class="form-control" id="input">I love Monika</textarea>
            </div>
            <div class="form-group">
                <label style="color: #fff;">C͍o͆n̳p̓l̜e̪x͞i͉t̴y̠: </label>
                <input class="form-control" id="complexity" type="number" value="5"/>
            </div>
            <input id="button" type="button" value="C̤òn͈v̛e͗r͈t͖" class="btn btn-primary"/>
            <span style="color: #fff;">S̲̻̄́͋Y̸̶̓̑͌S̪̻͕̄͢Ṫ̛̜͑̀E̶̺͊́̔M̺̈́ͯ̎͆ W̞͔ͯ͊͜A̷̖̽͐̚R̡͓̖̄͐Ṋ̷̢͔ͭI̸͍ͭ͛̀N̢͖͋̓͒G̪̙͊̈͞:̹͍̰ͯ̎̾ͫͪ͜͡&nbsp;&nbsp;&nbsp;P̵͉͈̋͐l͔̯̒͛̀e̴̗̯̱̣a̡̯͚̰͛s͇̗̤̱̾e͔ͩ̄ͬ͠ u̪͇̩͑͐s̤̜̬̽͌ȇ͚̦͍́ 0̴̧͈̩ͩ <̠͑̽͒̚=̶̝̔̅̃ ć̹ͤ͜͢o̯̥͊ͥ͢m̝͙͖̓͐p̗͇̰̅͡l̨̤͋ͯ̆e̷̊̈́̀̚x̋͋̍́̇ị̘̹̿̒t͇̟ͤ͂̂y͖̝̺͆͢ <̛̻ͯͤ̀=̨̮̈́̋͟ 1̬̣͢͝͠0̶̲̟ͫ͌ a̴̻̺ͬ͝ṋ̴̘̈́ͬḏ̤̀ͬ͠ E̶̥̙̔̅n̺̻͔̉̒g͖̝̑̀͐ĺ̮͏̇͟i̵͚͑̒̎ṣ͈̓͋͜h̗ͧ̍̚͡,̦̯̙̓̑ ỏ̶̅ͪ͑ṱͥͧͫ͑h̶̡͂͗͆e͓̳̐̏̋r̤̺̀̉̿w͉̙̐ͣ͟i̧̺̰̋̏s̢̟̺͑͆e̿̀̇̐͠,̴̵̰̱ͨ ḭ̖̀͟͡t̛͔̳̐̚ m̵̍ͨ͒̔a̴̢͇̗̦ỹ̩ͪ͂̀ c̙͍̫͑̏a̴͍̒ͪͬu̫ͯ̾̏̈́s̹̞̄̌͝è̩͔͆̋ ş͇̏̌ͤo̭̫̿͆͢m͉͎̙̀͗ę̫̓̔̚ t̹̩͆ͭ̆r̗̻ͣͭ͝o̵̟ͤͥͪu̵̬͈͌ͭb̬̣̳͛͆l̦͉̒ͭ͝e͍̟ͤ̈́͊ i͈͔̔̽͢n̢̩ͫͯ̀ m̠͐̆͑ͦê̷̜͛ͫs͏̧͓̗̿ś̞̘̎̓a̺͙̭̍͟g̺͙͕̀̏e̮̼̩̓̏ȑ͂̎̈́̒.̙́̌͒̑</span>
            
        </form>
        <br/>
     
        <div id="output">
            <div class="alert alert-primary" role="alert">
                <b>S̡t̞r̓i͖nͤg͜:&nbsp;&nbsp;</b><br/>
                <div id="outputStr" style="padding-top:10px;"></div>
            </div>
            <div class="alert alert-warning" role="alert">
                <details>
                    <summary><b>C͞o̍d͈e̲:&nbsp;&nbsp;</b></summary>
                    <div id="outputCode" style="overflow:scroll;overflow-Y:hidden;padding-top:10px;"></div>
                </details>
            </div>
        </div>
        <br/>
        
        <div id="copyBtn">
            <button id="copyStr" class="btn btn-outline-primary" >C̸o̬p̓y͖ Ŝt̵r͖ḭn͐g̝</button>&nbsp;<button id="copyCode" class="btn btn-outline-warning" >Cͪo̖pͤy̏ C̵o̡d̮eͬ</button>
            <span id="success" style="color: #007bff;"></span>
        </div>
    </div>
    <script>
        $("#output").hide();
        $("#copyBtn").hide();
        $("#success").hide();
        function getRandomSubarray(arr, size) {
            var shuffled = arr.slice(0), i = arr.length, temp, index;
            while (i--) {
                index = Math.floor((i + 1) * Math.random());
                temp = shuffled[index];
                shuffled[index] = shuffled[i];
                shuffled[i] = temp;
            }
            return shuffled.slice(0, size);
        }
        
        function copyToClipboard(element) {
          var $temp = $("<input>");
          $("body").append($temp);
          $temp.val($(element).text()).select();
          document.execCommand("copy");
          $temp.remove();
        }
        
        var charCode = []
        for (var i = 768; i < 880; i++) {
            if (i == 856){
                continue
            }
            charCode.push("&#" + i.toString() + ";")
        }
        
        $("#button").click(function(){
            var text = $("#input").val();
            var complexity = $("#complexity").val();
            var newText = ""
            for (var i in text) {
                if (text[i] == " "){
                    newText += " "
                    continue
                }
                var codes = text[i];
                var codeList = getRandomSubarray(charCode, complexity);
                for(var j in codeList){
                    codes += codeList[j];
                }
                newText += codes;
            }
            $("#outputStr").html(newText);
            $("#outputCode").text(newText);
            $("#copyBtn").show();
            $("#output").show();
            $("#success").hide();
        });
        
        $("#copyStr").click(function(){
            var copyText = document.getElementById("outputStr");
            copyToClipboard(copyText);
            $("#success").show();
            $("#success").html("&nbsp;Čȯp̐y͚ s̰t̥r̻iͧņg͓ t͐o̳ c̓lͯi͏p̠b̄o̥a̾r̵dͤ s͢u̧cͧc͡e̓s̓s̒f̂u͊l͜l̳y̗.͎");
            $("#success").attr("style", "color: #007bff;");
        });
        
        $("#copyCode").click(function(){
            var copyText = document.getElementById("outputCode");
            copyToClipboard(copyText);
            $("#success").show();
            $("#success").html("&nbsp;C͇o͈pͣy̪ c͠õdͦe͛ t͂ó c̤l̑i͟p̈́b̒o͖aͧr͝d͇ s̝u͝c͕c̣e̐s͔s̥f͉u͉l̥l̏y̪.ͯ");
            $("#success").attr("style", "color: #ffc107;");
        });
    </script>
</body>